{{!-- 
  FILE: views/students.handlebars
  PURPOSE: Demonstrate Handlebars built-in helpers
  TEACHING POINTS: {{#each}}, {{#if}}/{{else}}, {{#unless}}
--}}

{{!-- SECTION DEMO: Add student-specific styles --}}
{{#section "styles"}}
  <style>
    .student-table { box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
    .pass-rate { color: #28a745; font-size: 1.2em; font-weight: bold; }
  </style>
{{/section}}

<div style="padding: 20px;">
  <h2>ğŸ‘¨â€ğŸ“ Student Records Dashboard</h2>
  
  {{!-- DEMONSTRATION 1: CONDITIONAL HELPER --}}
  <div style="margin: 20px 0;">
    <h3>ğŸ”¹ Helper #1: Conditional Rendering with #if</h3>
    {{#if hasStudents}}
      <p style="color: green;">âœ“ Students data is available</p>
    {{else}}
      <p style="color: red;">âœ— No students found</p>
    {{/if}}
  </div>
  
  {{!-- DEMONSTRATION 2: ITERATION HELPER --}}
  <div style="margin: 20px 0; padding: 15px; background-color: #f9f9f9; border-radius: 8px;">
    <h3>ğŸ”¹ Helper #2: Iteration with #each</h3>
    <p>Loop through arrays to display multiple items:</p>
    
    <table style="width: 100%; border-collapse: collapse; margin-top: 10px;">
      <thead>
        <tr style="background-color: #333; color: white;">
          <th style="padding: 10px; text-align: left;">Student Name</th>
          <th style="padding: 10px; text-align: center;">Score</th>
          <th style="padding: 10px; text-align: center;">Status</th>
        </tr>
      </thead>
      <tbody>
        {{!-- #each iterates over the students array --}}
        {{!-- Use "this" to access current item's properties --}}
        {{#each students}}
          <tr style="border-bottom: 1px solid #ddd;">
            <td style="padding: 10px;">{{this.name}}</td>
            <td style="padding: 10px; text-align: center;">{{this.score}}</td>
            <td style="padding: 10px; text-align: center;">
              {{!-- NESTED #if: Check passed status for each student --}}
              {{#if this.passed}}
                <span class="pass">âœ“ Passed</span>
              {{else}}
                <span class="fail">âœ— Failed</span>
              {{/if}}
            </td>
          </tr>
        {{/each}}
      </tbody>
    </table>
  </div>
  
  {{!-- DEMONSTRATION 3: NEGATIVE CONDITIONAL HELPER --}}
  <div style="margin: 20px 0; padding: 15px; background-color: #e7f3ff; border-radius: 8px;">
    <h3>ğŸ”¹ Helper #3: Negative Conditional with #unless</h3>
    <p>Display content when condition is FALSE:</p>
    
    {{!-- #unless is the opposite of #if --}}
    {{#unless showFailedWarning}}
      <p style="color: green; font-weight: bold;">âœ“ All systems normal - No warnings to display</p>
    {{else}}
      <p style="color: red; font-weight: bold;">âš ï¸ Warning: Some students need attention</p>
    {{/unless}}
  </div>
  
  {{!-- SUMMARY SECTION --}}
  <div style="margin-top: 30px; padding: 15px; background-color: #fff3cd; border-left: 4px solid #ffc107;">
    <h3>ğŸ“ What You've Learned:</h3>
    <ul>
      <li><code>&#123;&#123;#if&#125;&#125;</code> - Display content when condition is true</li>
      <li><code>&#123;&#123;#each&#125;&#125;</code> - Loop through arrays/objects</li>
      <li><code>&#123;&#123;#unless&#125;&#125;</code> - Display content when condition is false</li>
      <li><code>&#123;&#123;this&#125;&#125;</code> - Reference current item in loops</li>
    </ul>
    <p style="margin-top: 15px;">
      ğŸ‘ˆ <a href="/" style="color: #007bff;">Return to Home</a> to review render context basics
    </p>
  </div>
</div>

{{!-- SECTION DEMO: Add statistics sidebar for students page --}}
{{#section "sidebar"}}
  <div class="sidebar" style="max-width: 800px; margin: 0 auto;">
    <h3>ğŸ“Š Class Statistics</h3>
    <p class="pass-rate">Pass Rate: 67% (2 of 3 students)</p>
    <p><strong>Section Feature:</strong> This statistics box is defined in the students template using <code>&#123;&#123;#section "sidebar"&#125;&#125;</code> and rendered in the layout.</p>
    <p><em>Different pages can define different sidebar content, or no sidebar at all!</em></p>
  </div>
{{/section}}
